<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="view_re_estate_kanban" model="ir.ui.view">
        <field name="name">re.estate.kanban</field>
        <field name="model">re.estate</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="type"/>
                <field name="surface"/>
                <field name="image"/>

                <templates>
                    <t t-name="kanban-box">
                        <div t-attf-class="oe_kanban_global_click">
                            <div class="o_kanban_image">
                                <field name="image" widget="image" class="oe_avatar"/>
                            </div>
                            <div class="oe_kanban_details">
                                <strong class="o_kanban_record_title">
                                    <field name="type"/>
                                </strong>
                                <div t-if="record.surface.value">
                                    <t t-esc="record.surface.value"/>
                                    mÂ²
                                </div>

                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>


    <!-- The part of code below represent the form to add the related model objects  -->

    <record id="view_re_estate_form" model="ir.ui.view">
        <field name="name">re.estate.form</field>
        <field name="model">re.estate</field>
        <field name="arch" type="xml">
            <form>


                <sheet>
                    <notebook>
                        <page string=" estate details">
                            <group>
                                <group string="estate details">

                                    <field name="ref"/>
                                    <field name="owner"/>
                                    <field name="agent"/>
                                    <field name="surface"/>
                                    <field name="price"/>
                                    <field name="type"/>
                                    <field name="type_estate"/>
                                    <field name="floor_nbr"
                                           attrs="{'invisible': [('type_estate', '!=', 'house'),('type_estate', '!=', 'apartement')]}"/>
                                    <field name="bedroom_nbr"
                                           attrs="{'invisible': [('type_estate', '!=', 'house') ,('type_estate', '!=', 'apartement') ]}"/>
                                    <field name="bathroom_nbr"
                                           attrs="{'invisible': [('type_estate', '!=', 'house'),('type_estate', '!=', 'apartement')]}"/>
                                    <field name="kitchen_nbr"
                                           attrs="{'invisible': [('type_estate', '!=', 'house'),('type_estate', '!=', 'apartement')]}"/>
                                    <field name="garden_surface"
                                           attrs="{'invisible': [('type_estate', '!=', 'house'),('type_estate', '!=', 'apartement')]}"/>
                                    <field name="floor_num"
                                           attrs="{'invisible': [('type_estate', '!=', 'apartement')]}"/>
                                    <field name="type_ground" attrs="{'invisible': [('type_estate', '!=', 'ground')]}"/>
                                    <field name="image" widget="image"/>
                                    <field name="add_date"/>
                                    <field name="disponibility_date"/>

                                </group>
                            </group>
                        </page>
                        <page string="estate location">
                            <group>
                                <group string="existing estate locations">
                                    <field name="location_id"/>
                                    <field name="state"/>
                                    <field name="city" option="{'no_open': False, 'no_create': False}"/>
                                    <field name="postal_code" option="{'no_open': False, 'no_create': False}"/>
                                    <field name="street" option="{'no_open': False, 'no_create': False}"/>
                                </group>
                            </group>
                            <p style="color: red;">if you want to add new location click the button below</p>
                            <button name="open_location_form" string="New location" type="object"/>

                        </page>
                        <page string="additionnal informations">
                            <group>
                                <group string="additionnal informations">
                                    <!-- Fields for Section 3 -->
                                    <field name="tags" widget="many2many_tags"/>
                                </group>
                            </group>
                        </page>
                    </notebook>
                    <notebook>
                        <page string="Contracts">
                            <field name="contract_line_ids" mode="tree">
                                <tree editable="bottom" string="Contract Items" default_order="sequence, id">
                                    <control>
                                        <create name="add_line_control" string="Add a line"/>
                                    </control>
                                    <field name="ref"/>
                                    <field name="lodger"/>
                                    <field name="f_price"/>
                                    <field name="start_date"/>
                                    <field name="end_date"/>
                                    <field name="creation_date"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>


                <!-- The part of code below represents the chatter section   -->
                <div class="oe_chatter">
                    <!-- Followers view -->
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids"/>
                    <field name="message_ids"/>
                </div>

            </form>
        </field>

    </record>
    <!-- The part of code below represent the tree to display the list of estates objects  -->

    <record id="view_re_estate_tree" model="ir.ui.view">
        <field name="name">re.estate.tree</field>
        <field name="model">re.estate</field>
        <field name="arch" type="xml">
            <tree>
                <field name="ref"/>
                <field name="surface"/>
                <field name="price"/>
                <field name="type"/>

            </tree>
        </field>

    </record>

    <!-- search view -->
    <record id="estate_search" model="ir.ui.view">
        <field name="name">re.estate.search</field>
        <field name="model">re.estate</field>
        <field name="arch" type="xml">
            <search>
                <filter name="filter_land" string="Land" domain="[('type_estate', '=', 'land')]"/>
                <filter name="filter_house" string="House" domain="[('type_estate', '=', 'house')]"/>
                <filter name="filter_apartment" string="Apartment" domain="[('type_estate', '=', 'apartment')]"/>
                <filter name="filter_sale" string="Sales" domain="[('type', '=', 'sale')]"/>
                <filter name="filter_rent" string="Rents" domain="[('type', '=', 'rent')]"/>



            </search>

        </field>
    </record>
</odoo>